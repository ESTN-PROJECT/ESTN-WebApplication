{% extends 'base.html.twig' %}

{% block title %}Manage Users{% endblock %}

{% block body %}













    <head>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="https://kit.fontawesome.com/165c102389.js" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="{{ asset('dashboard/css/bootstrap.min.css') }}"/>
        <link rel="stylesheet" href="{{ asset('dashboard/css/dataTables.bootstrap5.min.css') }}"/>
        <link rel="stylesheet" href="{{ asset('dashboard/css/style.css') }}"/>
        <title>Dashboard</title>
    </head>
    <body>
    <!-- top navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">

        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar"
                    aria-controls="offcanvasExample">
                <span class="navbar-toggler-icon" data-bs-target="#sidebar"></span>
            </button>
            <a class="navbar-brand me-auto ms-lg-0 ms-3 text-uppercase fw-bold" href="#" style="color: white;">
                <img height="40" weight="40" src="{{ asset('pictures/logo.png') }}">

                ESTN</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#topNavBar"
                    aria-controls="topNavBar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="topNavBar">
                <form class="d-flex ms-auto my-3 my-lg-0" method="post" action="{{ path('search') }}">
                    <div class="input-group">
                        <input class="form-control" name="search" type="text" placeholder="Search" aria-label="Search"/>

                        <button class="btn btn-primary" style="background-color: white ; border-color: white"
                                type="submit">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </form>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle ms-2" href="#" role="button" data-bs-toggle="dropdown"
                           aria-expanded="false">
                            <img height="30" weight="30" src="{{ asset('pictures/admin.png') }}">
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                                <a class="dropdown-item" href="{{ path('home') }}">User mode</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href=""></a>
                            </li>
                            <li>
                                <a class="dropdown-item" href=""></a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{{ path( 'app_logout') }} ">Logout</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- top navigation bar -->
    <!-- offcanvas -->
    <div class="offcanvas offcanvas-start sidebar-nav bg-dark" tabindex="-1" id="sidebar">
        <div class="offcanvas-body p-0">
            <nav class="navbar-dark">

                <ul class="navbar-nav">
                    <li>
                        <a href="{{ path('app_admin') }}" class="nav-link px-3 active">

							<span class="me-2">
								<i class="bi bi-speedometer2"></i>
							</span>
                            <span>
								<br /> Dashboard</span>
                        </a>
                    </li>
                    <li class="my-4"><hr class="dropdown-divider bg-light"/></li>
                    <li>
                        <a class="nav-link px-3 sidebar-link" data-bs-toggle="collapse" href="#layouts">
							<span class="me-2">
								<i class="bi bi-layout-split"></i>
							</span>
                            <span>Manage</span>
                            <span class="ms-auto">
								<span class="right-icon">
									<i class="bi bi-chevron-down"></i>
								</span>
							</span>
                        </a>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('users_list')}}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Users</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('display_evenement') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Events</span>
                                    </a>
                                </li>
                            </ul>
                        </div>


                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('affichere') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>teams</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('afficher') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Products</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('afficherc') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Categories</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('afficherE') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Training</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('afficherJ') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Games</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('app_actualite_index') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>News</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('app_article_index') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Articles</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('app_discussion_index') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Discussion</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="collapse" id="layouts">
                            <ul class="navbar-nav ps-3">
                                <li>
                                    <a href="{{ path('app_forum_index') }}" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                        <span>Forum</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                    </li>

                    <li class="my-4"><hr class="dropdown-divider bg-light"/></li>

                    <div class="collapse" id="layouts">
                        <ul class="navbar-nav ps-3">
                            <li>
                                <a href="#" class="nav-link px-3">
										<span class="me-2">
											<i class="bi bi-speedometer2"></i>
										</span>
                                    <span><a href="{{ path('adminRegister') }}"> <i style="color: white" class="fas fa-plus"></i>  <span style="color: white">Add admin</span> </a></span>
                                </a>
                            </li>
                        </ul>
                    </div>

                </ul>
            </nav>
        </div>
    </div>
    <!-- offcanvas -->
    <main class="mt-5 pt-3">
        <div class="container-fluid">
            <div class="row"></div>
            <br/>


            <div class="row">
                <div class="col-md-12 mb-3">
                    <div class="card">
                        <div class="card-header">
							<span>
								<i class="bi bi-table me-2"></i>
							</span>
                            Users Table (<b> {{ all|length }} users </b>)
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table id="example" class="table table-striped data-table" style="width: 100%">


                                    <thead>
                                    <tr>

                                        <th>Username</th>
                                        <th>Email</th>
                                        <th>City</th>
                                        <th>Rank</th>


                                        <th>Ban</th>
                                        <th>Update</th>
                                        <th><a href="{{ path('sortedUsers') }}"> <img height="20" weight=20" src="{{ asset('pictures/sort.png') }}"> </a></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tbody>
                                    <tbody>
                                    <tbody id="myTable">
                                    {% for user in tabUsers %}
                                        <tr>


                                            <td>{{ user.username }}</td>
                                            <td>{{ user.email }}</td>
                                            <td>{{ user.ville }}</td>
                                            <td>{{ user.rank }}</td>


                                            <td><a href="{{ path('UserDelete',{'id':user.id}) }}"> <img height="25" weight="25" src="{{ asset('pictures/ban.png') }}"> </a></td>

                                            <td><a href="{{ path('updateUser',{'id':user.id}) }}"> <img height="23" weight="23" src="{{ asset('pictures/update.png') }}"> </a></td>
                                            <td></td>
                                        </tr>
                                    {% else %}
                                        <tr>
                                            <td colspan="8">no records found</td>
                                        </tr>
                                    {% endfor %}
                                    <tbody id="search">

                                    </tbody>

                                    </tbody>


                                </table>

<!--
                                <ul class="pagination">

                                    <li class="page-item"></li>
                                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
-->
                              <div class="navigation text-center"> {{ knp_pagination_render(tabUsers) }} </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="{{ asset('dashboard/js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ asset('dashboard/js/jquery-3.5.1.js') }}"></script>
    <script src="{{ asset('dashboard/js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('dashboard/js/dataTables.bootstrap5.min.js') }}"></script>
    <script src="{{ asset('dashboard/js/script.js') }}"></script>

    <script src="//code.jquery.com/jquery.js"></script>
    <!-- Load Flashy default JavaScript -->
    <script src="{{ asset('bundles/mercuryseriesflashy/js/flashy.js') }}"></script>
    <link rel="stylesheet" href="{{ asset('bundles/mercuryseriesflashy/css/flashy.css') }}">
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet'>
    <!-- Include Flashy default partial -->

    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#myInput").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $("#myTable tr").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>

    {{ include('@MercurySeriesFlashy/flashy.html.twig') }}


{% endblock %}